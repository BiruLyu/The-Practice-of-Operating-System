#include<stdio.h>
#include<curses.h>
#include<stdlib.h>




#define TICKS_PER_SEC 25
#define speed1 3
#define DELTA 5
#define LV 3
#define LEFT_EDGE 4
#define RIGHT_EDGE 45
#define TOP_EDGE 2
#define BUTTOM_EDGE 21
#define BLANK " "
#define FOOD "*"
#define PERSON "R"
#define BALL "  "
#define COL 40
#define ROW 18

struct RoleInfo{
int x,y,len;
};
struct Brick{
int x,y;
int speed;
int dir;
bool flag;
};


bool Moving_Ball();
void wrap_up();
void ball_move();
int set_ticker( int );
void show_my_moving_brick( int,int ,int );
void cover_my_moving_brick( int ,int );
void on_input(int);
void enable_kbd_signals();
void show_score();
void show_gameover();
void InitialMap(int n);
bool set_up( int );
void set_nodelay_mode();
void tty_mode(int how);
void solve_restart();
struct Brick my_moving_brick[4];
struct RoleInfo Role;

int done=0;
int Score=0;
int crash=0;
int left_time=40;
int count=0;
int text=0;
int Game_flag=1;
int pause_digit=0;
int level1[ROW][COL];
int Position[4][2]={7,43,11,39,14,19,4,20};


int map1[ROW][COL]={       2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,1,1,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,1,1,1,1,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,
                           0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,
                           4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,
                           4,4,1,1,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,1,1,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,1,1,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,1,1,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,3,1,1,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,4,1,1,1,1,1,1,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,4,4,4,4,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,
                           4,4,4,4,1,1,1,1,1,1,4,4,4,4,4,4,1,1,1,1,1,1,1,1,4,4,4,4,4,4,1,1,1,1,1,1,4,4,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,4
                       };
int map3[ROW][COL]={       2,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,4,4,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,3,4,4,4,1,1,4,4,4,4,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,4,4,1,1,4,4,4,4,4,4,
                           0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,
                           4,4,1,1,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,1,1,4,4,4,4,4,4,1,1,4,4,
                           1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,1,1,4,4,4,4,4,4,1,1,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,1,1,1,1,1,1,1,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,1,1,1,1,1,4,4,1,1,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,3,4,4,1,1,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,1,1,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,3,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,1,4,4,1,1,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,4,4,
                           4,4,4,4,4,4,4,1,1,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,0,4
                    };
int map2[ROW][COL]={       2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,4,4,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,3,4,4,4,4,4,4,4,
                           4,4,1,1,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,1,1,1,1,4,4,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,1,1,4,4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,4,4,4,4,4,1,1,4,4,4,1,1,3,4,4,4,4,4,4,4,4,4,4,3,1,1,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,4,4,4,4,4,1,1,4,4,4,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,1,4,4,1,1,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,3,1,1,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,1,1,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,1,1,1,1,4,4,4,4,1,1,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,4,4,1,1,4,4,4,4,4,4,1,1,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,4,4,
                           4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,
                           4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,4
                    };



